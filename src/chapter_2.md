# 变量和常量




数据类型
Rust 是静态编译语言，在编译时必须之道所有变量类型
基于使用的值，编译器通常能够推断出它的具体类型
但如果可能的类型比较多（例如 把 string 转成 整数的 parse 方法），就必须标注，否则编译报错
let x : u32 = "32".parse().expect("wrong");
println!("{:?}",x);
标量
一个变量类型代表一个单个值
整数类型
整数类型没有小数部分
例如 u32 就是一个无符号的整数类型占据 32位空间
无符号整数类型以 u 开头
有符号整数类型以 i 开头
iszie 和 usize类型 （计算机架构决定），使用场景对某种集合进行索引操作
整数的字面值  ﻿﻿除了 byte 类型外都可以使用类型后缀如 47u8, 如果不清楚使用的数据类型可以使用默认的类型 （i32）
整数溢出，例如 u8 范围 0-255 如果 u8 变量超出范围
在调试模式下编译： Rust 会检查整数溢出，如果发生溢出，程序运行就会 panic
如果溢出 rust 执行环绕操作
浮点类型
有两种基础的浮点类型，f32 单精度 f64 双精度
Rust 浮点类型采用 IEEE-754 标准来表述
f64 是默认类型
可以进行后缀定义
布尔类型
两个值 true 和 false
一个字节大小
声明符号 bool
let x: bool = true;
let y = false;
字符类型
Rust 语言中的 char 类型被用来描述语言中最基础的单个字符
字符类型的字面值使用单引号
占用 4 字节大小
是 Unicode 标量值， 可以表示 ASCII 中文、拼音、日文、零长度空白字符、 emoji 表情等。
fn main() {
    let c = 'z';
    let z = 'ℤ';
    let g = '国';
    let heart_eyed_cat = '😻';
}
数值操作
加减乘除余等
位运算 （AND （&）、OR（|）、XOR （^）、按位右移 >>、按位左移 << ）
布尔逻辑 （AND（&&）、OR (||)、NOT (!) ）
单元类型  () , fn main() 返回值就是 单元类型 () , 没有返回值的函数在 Rust 中定义 发散函数，无法收敛的函数。println!() 函数返回值也是 () 
复合类型
元组 tuple（可以包含各种数据类型的组合）
使用 （） 来进行构建
元组的长度是固定的，元组中的元素顺序也是固定的
元组创建实例
let tuple = (1i32, 1.32f64, "12",
                 -1i8, 'a', "你好", true,
                 0xff, 0b11);
    println!("{:?}", tuple);
// 结果
(1, 1.32, "12", -1, 'a', "你好", true, 255, 3)
元组访问 使用句点 (.) 后跟要访问的元组索引值直接访问元组元素，或使用模式匹配破坏元组
let tuple1 = ( 123, 23 , 32.2);
let (x, y, z) = tuple1;
println!("{:?}", tuple1);
println!("{}", x);
println!("{} {} ", tuple1.2, tuple1.1 );
// 结果
(123, 23, 32.2)
123
32.2 23
数组 一组拥有相同类型对象的集合，在内存中是连续存储的，
数组长度固定
数组内类型相同
定义数组
let x = [1,2,3];
let y: [f64] = [1.2, 324.2, 89.0];  // 错误语法
let x1 = [3; 5]
let x2 = [3, 3, 3, 3, 3]  // x1 与 x2 等价
数组用处： 数组存储在 栈上而不是 堆上，或者有定量的元素，使用数组更有好处
数组类型  数组类型可以表示为  [类型; 长度]
let a:[i32;5] = [1,2,3,4,5];
访问数组：数组存储在堆上单个块内存，可以使用索引下标进行访问，超出索引范围程序 panic
let x2 = [3, 3, 4, 3, 3];
println!("{}", x2[2]);   // 结果 4
可变长度数组 Vec 
Vector 和数组类似皆为标准库提供
Vector 长度可变
如果不确定用数组还是 Vec 优先 Vec
函数
声明函数使用 fn 关键字
函数命名规范遵循 snake case 
所有字母都是小写的，单词之间使用下划线分开
函数参数 （parameters 函数定义参数， arguments 传递给函数的参数）
函数参数声明时必须指明类型
函数有多个参数时需要用 逗号分隔
函数定义也是语句
fn mult_arg(x: f64, c: char){
    println!("x vaule is {}, c value is {}", x, c);
}

fn main() {
  mult_arg(2.2, 'h');
}
函数返回值
在 -> 符号后面声明返回值类型，但是不可以为返回值命名
在 Rust 里面，返回值就是函数体里面 最后一个表达式的值
若想提前返回，需使用 return 关键字，并指定一个值
fn five() -> u8 {
  5
}

fn main() {
  let x = five();
  println!("the value is {}", x);
}
语句
执行一系列操作，没有返回值的指令
let x = 3; // 语句
let y = let w = 3; // 语法错误 let w = 3 本身就是个语句没有返回值
表达式
计算并并有返回值，（代码块最后一句没有分号的结果就是返回值，如果最后一句话有分号视为语句）
{
  let x = 3;
  x + 1
}  // 该代码块，有返回值 
注释
双斜线作为注释符号 可以在任意位置
