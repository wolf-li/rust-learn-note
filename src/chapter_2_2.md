# 常量 const 与 静态变量 static

## const 常量

* 常量的值必须是在编译时已知的常量表达式，必须指定类型与值
* 与 C 语言宏定义（宏替换）不同，Rust 的 const 常量被直接嵌入到底层机器代码中（硬编码[^1]），而不是进行简单的替换。
* 命名规范：Rust 里常量使用全大写字母，单词之间可以使用下划线分开
* 常量的作用域是块级作用域，只在声明的作用域内可见。

### const 常量定义示例

`const USER_LIMIT:i32 = 100;`

### const 常量和变量的区别

声明常量使用的是 const 关键字，声明变量使用的是 let 关键字。

声明变量时 数据类型可以忽略，但声明常量时 数据类型不可以忽略。

这就意味着 const USER_LIMIT=100 这种常量声明会导致编译错误。

虽然声明变量时使用 let 关键字也会导致 变量不可以重新赋值，但我们可以加上 mut 关键字来让变量可以被重新赋值。然而常量却没有这种机制，常量一旦定义就永远不可变更和重新赋值。

常量只能 被赋值为 常量表达式/数学表达式，不能是 函数返回值 或者其它只有在运行时才能确定的值。

这是因为 常量 只是一个符号，会在 编译时 替换为具体的值，这个有点类似于 C 语言中的 #define 定义的符号。

常量 可以在任意作用域里定义，包括全局作用域。也就是可以在任何地方定义。因此我们可以在需要的地方定义，以明确我们为什么需要定义一个常量。

## static 静态变量

* 与 const 常量不同，static 变量是在运行时分配内存的
* 并不是可变的，可以使用 unsafe 进行修改
* 静态变量的声明周期是整个程序的运行时间



[^1]: 硬编码含义：把本该“可变”的数据或配置直接写死在源代码里，重新编译才能改。
